# Introducing PHP

## Introduction

- PHP is a server-side language
- it allows you to embed dynamically generated content into the HTML code of a web page
- client-side languages like HTML are executed by the web browser after it has downloaded it
- server-side languages like PHP is executed by the web server which happens before the web browser execution
  - i.e. PHP is a server-side language b/c it does its work on the **server**, not the browser
- this is how/why PHP can affect how the web page looks like
- therefore, the HTML file the browser recieves has already had its content changed by the PHP script

## How PHP Works

- like JS, PHP is embedded into an HTML file by using the opening tag `<?php` and the closing tag `?>`
- if an HTML file contains any PHP, it must use the file extension `.php` instead of `.html`
- this is so b/c the web browser does not know how to execute PHP
- so if a file ends with `.php`, the browser says, "hey web server, take care of this and translate it back for me in regular HTML"

## Our First PHP Script

- remember that `wow.html` you made in the last lesson?
- open it back up in a text editor
- paste this

```html
<!DOCTYPE html>
<html>
  <head>
    <title>My Web Page</title>
  </head>
  <body>
    <h1>Wow! Check this out!</h1>
    <p>
      This number was generated by PHP:
      <strong>
        <?php
   	     echo rand(1, 10);
   	    ?>
      </strong>
    </p>
  </body>
</html>
```

- the PHP code is within the strong tags
- now resave that file as `wow.php` and refresh it
  - change the url to `mysite.v.je/wow.php`
- voila, your first PHP script
- everytime you refresh the page, a new number will be generated btw/ 1 to 10

## Why Use PHP?

**Security**

- the code executes on the server not on the browser therefore users have zero access to it

**Compatability**

- since PHP executes on the server, we never have to worry if PHP is compatibile with X browser

**Reduced load on client**

- since PHP executes on the server, the user's browser can take it easy and just display the HTML + CSS
- as long as our server is beefy hardware wise, we don't have to worry about our user's limited hardware

**Choice**

- although browsers are limited to HTML, CSS, and JS, the server can handle almost any language, one of which is PHP, that generates HTML

## Basic Syntax and Statements

- very similar to JS and Java
- every statement must end in a semi-colon
- the statement `echo` takes an argument that will then be output into the HTML as seen in the above example
- strings are made with single quotes
  - `echo 'This is a <strong>test</strong>!';`

```html
<h1>Wow! Check this out!</h1>
<p>
This number was generated by PHP:
  <strong>
   	<?php
   	echo rand(1, 10);
   	?>
  </strong>
</p>
<p>
  <?php
  echo 'This is also made by <strong>PHP</strong>'
  ?>
</p>
```

## Variables

`$testVariable = 3;`

- don't have to specify the data type of the variable.
- variable name must start with `$`
- can use them like so

`echo $testVariable;`

- HTML file will render a 3 within that line

## Control Flow

```php
// store the result of rand in $roll
$roll = rand(1, 6);

// display that result as HTML
echo '<p>You rolled a ' . $roll . '</p>';

// if result is equal to 6, display that message
// if result is not equal to 6. the message is not displayed
if ($roll == 6) {
  echo '<p>You win!</p>';
}

// in any case, display this
echo '<p>Thanks for playing</p>';
```

- comments are added like in JS

## Loops

For and while loops can be used

### For loops

```php
for ($count = 1; $count <= 10; $count++) {
  $roll = rand(1, 6);
  echo '<p>You rolled a ' . $roll . '</p>';

  if ($roll == 6) {
    echo '<p>You win!</p>';
  }
  else {
    echo '<p>Sorry, you didn\'t win. Better luck next time!</p>';
  }
}

echo '<p>Thanks for playing</p>';
```

This would run 10 times, i.e. 10 statements of "You rolled an X"

### While loops

```php
$roll = 0;
while ($roll != 6) {
  $roll = rand(1, 6);
  echo '<p>You rolled a ' . $roll . '</p>';

  if ($roll == 6) {
    echo '<p>You win!</p>';
  }
  else {
    echo '<p>Sorry, you didn\'t win, better luck next time!</p>';
  }
}
```

This would keep rolling and pumping out HTML code until a 6 is rolled

## Arrays

`$myArray = ['one', 2, '3'];`

- just like JS
- access elements via index

### Associative arrays

- instead of using an index number, you can use a string to access an element

```php
$birthdays = [
  'Kevin' => '1978-04-12',
  'Stephanie' => '1980-05-16',
  'David' => '1983-09-09'
];
```

- therefore, if you want to access the first birthday element

`echo 'Kevin\'s birthday is: ' . $birthdays['Kevin'];`

## Escape

- when you wish to use a single quote like above, you need the escape character `\`

`echo 'Kevin\'s birthday is: ' . $birthdays['Kevin'];`
